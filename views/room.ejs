<!-- <!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <script>
     
   </script>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
   <script defer src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
   <script src="/socket.io/socket.io.js" defer></script>
   <link rel="stylesheet" href="css/roomstyle2.css">
   <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
   <script src="/js/room2.js" ></script>
   <style>
      #video-grid{
         display: flex;
         justify-content: center;
         flex-wrap: wrap;
      }
      video{
         height: 300px;
         width: 400px;
         object-fit: cover;
         padding: 8px;
      }
   </style>
</head>
<body>
   <div class="main">
      <div class="main__left">
         <div class="main__videos">
            <div id="video-grid">
      
            </div>
         </div>
         <div class="main__controls">
            <div class="main__controls__block">
               <div onclick="muteUnmute()" class="main__controls__button main__mute_button">
                  <i class="fas fa-microphone"></i>
                  <span>Mute</span>
               </div>
               <div onclick="playStop()" class="main__controls__button main__video_button" >
                  <i class="fas fa-video"></i>
                  <span>Stop Video</span>
               </div>
            </div>
            <div class="main__controls__block">
                <div class="main__controls__button">
                  <i class="fas fa-shield-alt"></i>
                  <span>Security</span>
               </div> -->
<!-- <div class="main__controls__button">
                  <i class="fas fa-user-friends"></i>
                  <span>Participants</span>
               </div>
               <div class="main__controls__button">
                  <i class="fas fa-comment-alt"></i>
                  <span>Chat</span>
               </div>
                <div class="main__controls__button ">
                <i class="fa fa-bars"></i>
             </div> 
             <div class="main__controls__button">
                <i class="fa fa-pen"></i>
                <span>Whiteboard</span>
             </div>
             <div class="main__controls__button">
                <i class="fa fa-file"></i>
                <span>Add Resume</span>
             </div>
             <div class="main__controls__button">
                <i class="fa fa-question"></i>
                <span>Interview Questions</span>
             </div>
            </div>
            <div class="main__controls__block">
               <div class="main__controls__button">
                  <span class="leave_meeting">Leave Meeting</span>
               </div>
            </div>
         </div>
      </div>
      <div class="main__right">
         <div class="main__header">
            <h6>Chat</h6>
         </div>
         <div class="main__chat_window">
            <ul class="messages">
               
            </ul>

         </div>
         <div class="main__message_container">
            <input id="chat_message" type="text" placeholder="Type message here...">
         </div>
      </div>
   </div>
</body>
</html>  -->



<!DOCTYPE html>
<html>

<head>
	<title>Room</title>
	<link rel="stylesheet" href="/css/roomstyle.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
	crossorigin="anonymous"></script>
<script>

	const ROOM_ID = "<%= roomId %>"

	const PERSON_NAME = "<%= userDataForRoom.name %>"








</script>
<script>

	window.onclick = function (event) {
		if (!event.target.matches('.dropbtn')) {
			var dropdowns = document.getElementsByClassName("dropdown-content");
			var i;
			for (i = 0; i < dropdowns.length; i++) {
				var openDropdown = dropdowns[i];
				if (openDropdown.classList.contains('show')) {
					openDropdown.classList.remove('show');
				}
			}
		}
	}
</script>

<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
<script src="/socket.io/socket.io.js" defer></script>
<script src="https://kit.fontawesome.com/62d14f866e.js" crossorigin="anonymous"></script>

<body>
	<div class="main">
		<div class="main__left">
			<div class="main__videos">
				<div id="video-grid">

				</div>
			</div>
			<div class="main__controls">
				<div class="main__controls__block">
					<div onclick="muteUnmute()" class="main__controls__button Mute__button">
						<i class="fas fa-microphone"></i>
						<span>Mute</span>
					</div>
					<div onclick="videoOnOff()" class="main__controls__button Video__button">
						<i class="fas fa-video"></i>
						<span>Stop Video</span>
					</div>
				</div>
				<div class="main__controls__block">
					<div onclick="screenshare()" class="main__controls__button">
						<i class="fas fa-photo-video"></i>
						<span>ScreenShare</span>
					</div>
					<div onclick="getUsers()" class="main__controls__button">

						<div class="dropdown">
							<i class="fas fa-user-friends dropbtn"></i>

							<div id="myDropdown" class="dropdown-content">

							</div>
						</div>
						<span>Participants</span>
					</div>
					<div onclick="share()" class="main__controls__button">
						<i class="fa fa-share-alt"></i>
						<span>Share</span>
					</div>
					<div class="main__controls__button" id="whiteboard-Slider-btn">
						<i class="fa fa-pen"></i>
						<span>Whiteboard</span>
					</div>


					<% if (userDataForRoom.type==="interviewer" ) { %>

						<div class="main__controls__button" id="Profile-Slider-btn" onclick="alternateProfileBtn()">
							<i class="fa fa-file"></i>
							<span>Profile</span>
						</div>

						<div class="main__controls__button" id="intPOV-Slider-btn">
							<i class="fa fa-question"></i>
							<span>Interview Questions</span>
						</div>
						<div class="main__controls__button" id="candPOV-Slider-btn" style="display : none;">
							<i class="fa fa-question"></i>
							<span>Answer Questions</span>
						</div>




						<% } else if (userDataForRoom.type==="candidate" ) { %>

							<div class="main__controls__button" id="Profile-Slider-btn" onclick="alternateProfileBtn()"
								style="display : none;">
								<i class="fa fa-file"></i>
								<span>Profile</span>
							</div>

							<div class="main__controls__button" id="intPOV-Slider-btn" style="display : none;">
								<i class="fa fa-question"></i>
								<span>Interview Questions</span>
							</div>

							<div class="main__controls__button" id="candPOV-Slider-btn">
								<i class="fa fa-question"></i>
								<span>Answer Questions</span>
							</div>





							<% } %>




								<div onclick="raisedHand()" class="main__controls__button raisedHand">
									<i class="far fa-hand-paper"></i>
									<span>Hand</span>
								</div>
				</div>
				<div class="main__controls__block">
					<div onclick="disconnectNow()" class="main__controls__button main__leave" style=" color: Tomato;">
						<span style="color: red;">Leave Meeting</span>
					</div>
				</div>


			</div>
		</div>


		<div id="nav-slider-whiteboard">

			<div id="white-board-functionality">
				<canvas id="whiteboard" width="700" height="450"></canvas>
				<br>
				<button onclick="clearCanvas()">Clear Whiteboard</button>
				<input type="color" id="colorPicker" onchange="changeColor(this.value)">
				<label for="lineWidth">Line Width:</label>
				<input type="range" id="lineWidth" min="1" max="20" value="5" onchange="changeLineWidth(this.value)">
				<button onclick="toggleEraser()">Eraser</button>
			</div>


		</div>





		<div id="nav-slider-intPOV">

			<% if (int_questions && int_questions.length> 0) { %>
				<% int_questions.forEach((questionObj)=> { %>
					<div class="question-container">
						<p>
							<%= questionObj.question %>
						</p>
						<button onclick="askQuestion('<%= questionObj.question %>')">Ask Question</button>
					</div>
					<% }); %>
						<% } else { %>
							<p>No questions available.</p>
							<% } %>





		</div>
		<div id="nav-slider-profile">



			<% if (sendingCandidateProfileToInterviewer) { %>

				<div class="question-container">
					<p>
						<b>NAME : </b><%= sendingCandidateProfileToInterviewer.name %>
					</p>
					<p>
						<b>EMAIL : </b><%= sendingCandidateProfileToInterviewer.email %>
					</p>
					<p>
						<b>PHONE : </b><%= sendingCandidateProfileToInterviewer.phone %>
					</p>
					<p>
						<b>INDUSTRY : </b><%= sendingCandidateProfileToInterviewer.industry %>
					</p>
					<p>
						<b>EDUCATION : </b><%= sendingCandidateProfileToInterviewer.education %>
					</p>
					<p>
						<b>JOB TITLE : </b><%= sendingCandidateProfileToInterviewer.jobTitle %>
					</p>
					<p>
						<b>LOCATION : </b><%= sendingCandidateProfileToInterviewer.location %>
					</p>
					<p>
						<b>SKILLS : </b><%= sendingCandidateProfileToInterviewer.skills %>
					</p>


				</div>

				<% } else { %>
					<p>Candidate not available</p>
					<% } %>









		</div>



		<div id="nav-slider-candPOV">

			<p>Interviewer haven't asked anythingg yet</p>

			<textarea id="result" rows="8" cols="80"></textarea> <br>
			<button id="start" class="record-btn">Start</button>
			<button id="stop" class="record-btn">Stop and submit</button>

			<!-- <p>Interviewer haven't asked anythingg yet</p> -->

		</div>










		<!-- <div id="nav-slider-intPOV">
			
		</div>

		<div id="nav-slider-profile">

			

		</div>

		<div id="nav-slider-candPOV">

		</div> -->






		<div class="main__right">
			<div class="main__header">
				<h6 style="padding: 15px 0;">Chat</h6>
			</div>
			<div class="main__chat_window">
				<ul class="messages">
				</ul>
			</div>
			<div class="main__messages_container">
				<input id="chat_messages" type="text" placeholder="Type message here...">
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
		<script src="/js/room.js" defer></script>

</body>

</html>